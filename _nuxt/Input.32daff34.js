import{S as we,a7 as te,ac as ve,a6 as oe,al as me,ap as y,a5 as I,aw as X,a8 as N,a9 as f,bK as Be,d as pe,bW as Ce,p as U,h as B,av as Fe,an as Ie,s as re,q as Ae,aJ as _e,a3 as Se,Y as $e,F as Ne,ad as Q}from"./entry.ce650135.js";import{c as D}from"./index.c1d06b6f.js";function Pe(n){n.target.composing=!0}function ue(n){n.target.composing&&(n.target.composing=!1,ze(n.target,"input"))}function ze(n,e){var u=document.createEvent("HTMLEvents");u.initEvent(e,!0,!0),n.dispatchEvent(u)}function ee(n,e,u,o){n.addEventListener(e,u,o)}var Re={created:function(e,u){(!u.modifiers||!u.modifiers.lazy)&&(ee(e,"compositionstart",Pe),ee(e,"compositionend",ue),ee(e,"change",ue))}};const Me=Re;var ie=Symbol("ContextProps"),le=Symbol("InternalContextProps"),de={id:we(function(){}),onFieldBlur:function(){},onFieldChange:function(){},clearValidate:function(){}},fe={addFormItemField:function(){},removeFormItemField:function(){}},je=function(){var e=te(le,fe),u=Symbol("FormItemFieldKey"),o=me();return e.addFormItemField(u,o.type),ve(function(){e.removeFormItemField(u)}),oe(le,fe),oe(ie,de),te(ie,de)},ye=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:y.oneOfType([y.string,y.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:y.any,addonAfter:y.any,prefix:y.any,suffix:y.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}};const Te=ye;var ke=function(){return I(I({},X(ye(),["prefix","addonBefore","addonAfter","suffix"])),{},{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function ge(n,e,u,o,r){var m;return N(n,(m={},f(m,"".concat(n,"-sm"),u==="small"),f(m,"".concat(n,"-lg"),u==="large"),f(m,"".concat(n,"-disabled"),o),f(m,"".concat(n,"-rtl"),r==="rtl"),f(m,"".concat(n,"-borderless"),!e),m))}var q=function(e){return e!=null&&(Array.isArray(e)?Be(e).length:!0)};function Ve(n){return q(n.prefix)||q(n.suffix)||q(n.allowClear)}function ne(n){return q(n.addonBefore)||q(n.addonAfter)}var Oe=["text","input"];const Ee=pe({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:y.oneOf(Ce("text","input")),value:y.any,defaultValue:y.any,allowClear:{type:Boolean,default:void 0},element:y.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:y.any,prefix:y.any,addonBefore:y.any,addonAfter:y.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,u){var o=u.slots,r=u.attrs,m=U(),z=function(t){var s;if((s=m.value)!==null&&s!==void 0&&s.contains(t.target)){var d=e.triggerFocus;d==null||d()}},p=function(t){var s,d=e.allowClear,i=e.value,l=e.disabled,h=e.readonly,g=e.handleReset,C=e.suffix,b=C===void 0?o.suffix:C;if(!d)return null;var F=!l&&!h&&i,x="".concat(t,"-clear-icon");return B(Fe,{onClick:g,onMousedown:function(_){return _.preventDefault()},class:N((s={},f(s,"".concat(x,"-hidden"),!F),f(s,"".concat(x,"-has-suffix"),!!b),s),x),role:"button"},null)},Z=function(t){var s,d=e.suffix,i=d===void 0?(s=o.suffix)===null||s===void 0?void 0:s.call(o):d,l=e.allowClear;return i||l?B("span",{class:"".concat(t,"-suffix")},[p(t),i]):null},G=function(t,s){var d,i,l,h=e.focused,g=e.value,C=e.prefix,b=C===void 0?(d=o.prefix)===null||d===void 0?void 0:d.call(o):C,F=e.size,x=e.suffix,$=x===void 0?(i=o.suffix)===null||i===void 0?void 0:i.call(o):x,_=e.disabled,P=e.allowClear,R=e.direction,V=e.readonly,M=e.bordered,W=e.hidden,O=e.addonAfter,k=O===void 0?o.addonAfter:O,v=e.addonBefore,a=v===void 0?o.addonBefore:v,c=Z(t);if(!Ve({prefix:b,suffix:$,allowClear:P}))return D(s,{value:g});var S=b?B("span",{class:"".concat(t,"-prefix")},[b]):null,w=N("".concat(t,"-affix-wrapper"),(l={},f(l,"".concat(t,"-affix-wrapper-focused"),h),f(l,"".concat(t,"-affix-wrapper-disabled"),_),f(l,"".concat(t,"-affix-wrapper-sm"),F==="small"),f(l,"".concat(t,"-affix-wrapper-lg"),F==="large"),f(l,"".concat(t,"-affix-wrapper-input-with-clear-btn"),$&&P&&g),f(l,"".concat(t,"-affix-wrapper-rtl"),R==="rtl"),f(l,"".concat(t,"-affix-wrapper-readonly"),V),f(l,"".concat(t,"-affix-wrapper-borderless"),!M),f(l,"".concat(r.class),!ne({addonAfter:k,addonBefore:a})&&r.class),l));return B("span",{ref:m,class:w,style:r.style,onMouseup:z,hidden:W},[S,D(s,{style:null,value:g,class:ge(t,M,F,_)}),c])},L=function(t,s){var d,i,l,h=e.addonBefore,g=h===void 0?(d=o.addonBefore)===null||d===void 0?void 0:d.call(o):h,C=e.addonAfter,b=C===void 0?(i=o.addonAfter)===null||i===void 0?void 0:i.call(o):C,F=e.size,x=e.direction,$=e.hidden,_=e.disabled;if(!ne({addonBefore:g,addonAfter:b}))return s;var P="".concat(t,"-group"),R="".concat(P,"-addon"),V=N(R,f({},"".concat(R,"-disabled"),_)),M=g?B("span",{class:V},[g]):null,W=b?B("span",{class:V},[b]):null,O=N("".concat(t,"-wrapper"),P,f({},"".concat(P,"-rtl"),x==="rtl")),k=N("".concat(t,"-group-wrapper"),(l={},f(l,"".concat(t,"-group-wrapper-sm"),F==="small"),f(l,"".concat(t,"-group-wrapper-lg"),F==="large"),f(l,"".concat(t,"-group-wrapper-rtl"),x==="rtl"),l),r.class);return B("span",{class:k,style:r.style,hidden:$},[B("span",{class:O},[M,D(s,{style:null}),W])])},T=function(t,s){var d,i=e.value,l=e.allowClear,h=e.direction,g=e.bordered,C=e.hidden,b=e.addonAfter,F=b===void 0?o.addonAfter:b,x=e.addonBefore,$=x===void 0?o.addonBefore:x;if(!l)return D(s,{value:i});var _=N("".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"),(d={},f(d,"".concat(t,"-affix-wrapper-rtl"),h==="rtl"),f(d,"".concat(t,"-affix-wrapper-borderless"),!g),f(d,"".concat(r.class),!ne({addonAfter:F,addonBefore:$})&&r.class),d));return B("span",{class:_,style:r.style,hidden:C},[D(s,{style:null,value:i}),p(t)])};return function(){var A,t=e.prefixCls,s=e.inputType,d=e.element,i=d===void 0?(A=o.element)===null||A===void 0?void 0:A.call(o):d;return s===Oe[0]?T(t,i):L(t,G(t,i))}}});function se(n){return typeof n>"u"||n===null?"":String(n)}function ce(n,e,u,o){if(u){var r=e;if(e.type==="click"){Object.defineProperty(r,"target",{writable:!0}),Object.defineProperty(r,"currentTarget",{writable:!0});var m=n.cloneNode(!0);r.target=m,r.currentTarget=m,m.value="",u(r);return}if(o!==void 0){Object.defineProperty(r,"target",{writable:!0}),Object.defineProperty(r,"currentTarget",{writable:!0}),r.target=n,r.currentTarget=n,n.value=o,u(r);return}u(r)}}function Ke(n,e){if(n){n.focus(e);var u=e||{},o=u.cursor;if(o){var r=n.value.length;switch(o){case"start":n.setSelectionRange(0,0);break;case"end":n.setSelectionRange(r,r);break;default:n.setSelectionRange(0,r)}}}}const De=pe({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:Te(),setup:function(e,u){var o=u.slots,r=u.attrs,m=u.expose,z=u.emit,p=U(),Z=U(),G,L=je(),T=Ie("input",e),A=T.direction,t=T.prefixCls,s=T.size,d=T.autocomplete,i=U(e.value===void 0?e.defaultValue:e.value),l=U(!1);re(function(){return e.value},function(){i.value=e.value}),re(function(){return e.disabled},function(){e.value!==void 0&&(i.value=e.value),e.disabled&&(l.value=!1)});var h=function(){G=setTimeout(function(){var a;((a=p.value)===null||a===void 0?void 0:a.getAttribute("type"))==="password"&&p.value.hasAttribute("value")&&p.value.removeAttribute("value")})},g=function(a){Ke(p.value,a)},C=function(){var a;(a=p.value)===null||a===void 0||a.blur()},b=function(a,c,S){var w;(w=p.value)===null||w===void 0||w.setSelectionRange(a,c,S)},F=function(){var a;(a=p.value)===null||a===void 0||a.select()};m({focus:g,blur:C,input:p,stateValue:i,setSelectionRange:b,select:F});var x=function(a){var c=e.onFocus;l.value=!0,c==null||c(a),Q(function(){h()})},$=function(a){var c=e.onBlur;l.value=!1,c==null||c(a),L.onFieldBlur(),Q(function(){h()})},_=function(a){z("update:value",a.target.value),z("change",a),z("input",a),L.onFieldChange()},P=me(),R=function(a,c){i.value!==a&&(e.value===void 0?i.value=a:Q(function(){p.value.value!==i.value&&P.update()}),Q(function(){c&&c()}))},V=function(a){ce(p.value,a,_),R("",function(){g()})},M=function(a){var c=a.target,S=c.value,w=c.composing;if(!((a.isComposing||w)&&e.lazy||i.value===S)){var j=a.target.value;ce(p.value,a,_),R(j,function(){h()})}},W=function(a){a.keyCode===13&&z("pressEnter",a),z("keydown",a)};Ae(function(){h()}),ve(function(){clearTimeout(G)});var O=function(){var a,c=e.addonBefore,S=c===void 0?o.addonBefore:c,w=e.addonAfter,j=w===void 0?o.addonAfter:w,E=e.disabled,H=e.bordered,J=H===void 0?!0:H,K=e.valueModifiers,be=K===void 0?{}:K,xe=e.htmlSize,ae=X(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),Y=I(I(I({},ae),r),{},{autocomplete:d.value,onChange:M,onInput:M,onFocus:x,onBlur:$,onKeydown:W,class:N(ge(t.value,J,s.value,E,A.value),f({},r.class,r.class&&!S&&!j)),ref:p,key:"ant-input",size:xe,id:(a=ae.id)!==null&&a!==void 0?a:L.id.value});be.lazy&&delete Y.onInput,Y.autofocus||delete Y.autofocus;var he=B("input",X(Y,["size"]),null);return _e(he,[[Me]])},k=function(){var a,c=i.value,S=e.maxlength,w=e.suffix,j=w===void 0?(a=o.suffix)===null||a===void 0?void 0:a.call(o):w,E=e.showCount,H=Number(S)>0;if(j||E){var J=Se(se(c)).length,K=null;return $e(E)==="object"?K=E.formatter({count:J,maxlength:S}):K="".concat(J).concat(H?" / ".concat(S):""),B(Ne,null,[!!E&&B("span",{class:N("".concat(t.value,"-show-count-suffix"),f({},"".concat(t.value,"-show-count-has-suffix"),!!j))},[K]),j])}return null};return function(){var v=I(I(I({},r),e),{},{prefixCls:t.value,inputType:"input",value:se(i.value),handleReset:V,focused:l.value&&!e.disabled});return B(Ee,I(I({},X(v,["element","valueModifiers","suffix","showCount"])),{},{ref:Z}),I(I({},o),{},{element:O,suffix:k}))}}});export{Ee as C,De as I,Me as a,Ke as b,se as f,Te as i,ce as r,ke as t,je as u};
